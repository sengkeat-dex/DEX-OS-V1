{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "RAMP Integration Configuration",
  "description": "Configuration file for setting up RAMP integrations with DEX-OS",
  "type": "object",
  "properties": {
    "integration": {
      "type": "object",
      "properties": {
        "version": {
          "type": "string",
          "description": "Configuration version",
          "examples": ["1.0.0"]
        },
        "environment": {
          "type": "string",
          "enum": ["development", "staging", "production"],
          "description": "Deployment environment"
        },
        "dexOsEndpoint": {
          "type": "string",
          "format": "uri",
          "description": "Base URL for DEX-OS API"
        },
        "rampEndpoint": {
          "type": "string",
          "format": "uri",
          "description": "Base URL for RAMP API"
        }
      },
      "required": ["version", "environment", "dexOsEndpoint", "rampEndpoint"]
    },
    "rampTypes": {
      "type": "object",
      "properties": {
        "onRamp": {
          "$ref": "#/definitions/rampConfig"
        },
        "offRamp": {
          "$ref": "#/definitions/rampConfig"
        },
        "crossRamp": {
          "$ref": "#/definitions/rampConfig"
        },
        "defiRamp": {
          "$ref": "#/definitions/rampConfig"
        }
      }
    },
    "security": {
      "type": "object",
      "properties": {
        "encryption": {
          "type": "object",
          "properties": {
            "algorithm": {
              "type": "string",
              "enum": ["kyber", "aes-gcm", "sha3-256"],
              "description": "Encryption algorithm to use"
            },
            "keyManagement": {
              "type": "string",
              "description": "Key management approach"
            }
          }
        },
        "signatures": {
          "type": "object",
          "properties": {
            "algorithm": {
              "type": "string",
              "enum": ["dilithium", "ecdsa"],
              "description": "Signature algorithm to use"
            },
            "keyRotation": {
              "type": "boolean",
              "description": "Enable automatic key rotation"
            }
          }
        },
        "authentication": {
          "type": "object",
          "properties": {
            "method": {
              "type": "string",
              "enum": ["jwt", "oauth2", "api-key"],
              "description": "Authentication method"
            },
            "tokenExpiration": {
              "type": "string",
              "description": "Token expiration time",
              "examples": ["1h", "24h", "7d"]
            }
          }
        }
      }
    },
    "dataExchange": {
      "type": "object",
      "properties": {
        "formats": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": ["json", "protobuf", "avro"]
          },
          "description": "Supported data exchange formats"
        },
        "compression": {
          "type": "object",
          "properties": {
            "algorithm": {
              "type": "string",
              "enum": ["gzip", "brotli", "zstd"],
              "description": "Compression algorithm"
            },
            "level": {
              "type": "integer",
              "minimum": 1,
              "maximum": 9,
              "description": "Compression level"
            }
          }
        }
      }
    },
    "performance": {
      "type": "object",
      "properties": {
        "rateLimiting": {
          "type": "object",
          "properties": {
            "requestsPerSecond": {
              "type": "integer",
              "description": "Maximum requests per second"
            },
            "burstLimit": {
              "type": "integer",
              "description": "Maximum burst requests"
            }
          }
        },
        "caching": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean",
              "description": "Enable caching"
            },
            "ttl": {
              "type": "string",
              "description": "Cache time-to-live",
              "examples": ["5m", "1h", "24h"]
            }
          }
        }
      }
    }
  },
  "required": ["integration", "rampTypes", "security"],
  "definitions": {
    "rampConfig": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "Enable this ramp type"
        },
        "providers": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string",
                "description": "Provider name"
              },
              "endpoint": {
                "type": "string",
                "format": "uri",
                "description": "Provider API endpoint"
              },
              "apiKey": {
                "type": "string",
                "description": "API key for the provider"
              },
              "priority": {
                "type": "integer",
                "description": "Provider priority (lower is higher priority)"
              }
            },
            "required": ["name", "endpoint"]
          }
        },
        "limits": {
          "type": "object",
          "properties": {
            "dailyLimit": {
              "type": "number",
              "description": "Daily transaction limit"
            },
            "transactionLimit": {
              "type": "number",
              "description": "Per-transaction limit"
            }
          }
        }
      }
    }
  }
}